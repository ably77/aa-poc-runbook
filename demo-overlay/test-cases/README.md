Single cluster route tls
```
routing-tls-single-upstream.sh
```

Expected Behavior
- Gateway will be configured for 443 traffic and terminating TLS
- Routing will be to bookinfo on cluster 1 (no stars, black stars) on HTTPS round-robin

Canary (optional)
```
routing-weighted-canary-reviews-v1.sh
routing-weighted-canary-reviews-v2.sh
```

Expected Behavior
- Gateway will be configured for 443 traffic and terminating TLS
- Weighted Destination 100% to bookinfo on cluster 1 (no stars - v1) on HTTPS
- Weighted Destination 100% to bookinfo on cluster 2 (black stars - v2) on HTTPS

Routing across cluster to single service on cluster 2
```
routing-federation-reviews.sh
```

Expected Behavior
- Gateway will be configured for 443 traffic and terminating TLS
- Leverages cert generated by RootTrustPolicy (run `kubectl get secrets -n istio-system`)
- Weighted Destination 100% to bookinfo on cluster 2 (red stars - v3) on HTTPS
- Shared root trust is inherently demonstrated as the application reviews-v3 which only exists on cluster2 is accessible

Locality and failover: sticky, failover on 1 by scaling deployment to 0. Use outlier detection to failover/failback
```
routing-federation-failover.sh
```

Expected Behavior
- Gateway will be configured for 443 traffic and terminating TLS
- Leverages cert generated by RootTrustPolicy (run `kubectl get secrets -n istio-system`)
- Locality settings are configured
    - cluster1 ingressgateway serves reviews-v1 & reviews-v2 (no stars, black stars)
    - cluster2 ingressgateway serves reviews-v1, reviews-v2, and reviews-v3 (no stars, black stars, red stars)
- When productpage on cluster1 is scaled down to 0, failover will be triggered and cluster1 ingressgateway will automatically serve productpage and reviews from cluster2
- When productpage on cluster1 is scaled back up to 1, outlierdetection will detect and switch back over to cluster1 without manual intervention

Show open trust
Show zero trust
```
security-zero-trust.sh
```

Expected Behavior
- Bookinfo WorkspaceSettings is first applied with `serviceIsolation.enabled: false`
- A service `sleep-not-in-mesh` can curl the reviews service (which is in-mesh) successfully with a 200 status code
- Bookinfo WorkspaceSettings is first applied with `serviceIsolation.enabled: true`
- The same service `sleep-not-in-mesh` curl to reviews service will fail with a 000 status code. This is expected because mutual TLS is now strictly required, but the workload without sidecar cannot comply.